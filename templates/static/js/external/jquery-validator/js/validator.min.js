(function(e){e.fn.validate=function(){var t={class_:".validate",maxlength:300,correct_img:"imgs/correct.png",incorrect_img:"imgs/incorrect.png"};var n=e.extend(t,n);var r="url("+n.correct_img+") no-repeat";var i="url("+n.incorrect_img+") no-repeat";var s=0;var o=true;var u=function(t,n){var s,u;if(t.hasClass("alphanumeric")){s=new RegExp(/^[A-Za-z0-9ÁÉÍÓÚáéíóuñÑ '\.,"]+$/)}else if(t.hasClass("numeric")){s=new RegExp(/^\d{1,3}(,?\d{3})*?(.\d*)?$/g)}else if(t.hasClass("alpha")){s=new RegExp(/^[A-Za-zÁÉÍÓÚáéíóuñÑ '\.,"]+$/)}else if(t.hasClass("email")){s=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?(25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.)((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i)}else if(t.hasClass("url")){s=new RegExp(/^(ht|f)tps?:\/\/[a-z0-9-\.]+\.[a-z]{2,4}\/?([^\s<>#%",\{\}\\|\\\^\[\]`]+)?$/)}if(t.hasClass("notnull")){if(e.trim(n)==""){u=i;o=false}else{if(s.test(n)){u=r}else{u=i;o=false}}}else{if(e.trim(n)!=""){if(s.test(n)){u=r}else{u=i;o=false}}}t.next().css("background",u);return o};var a=function(e,t){var n;if(t=="0"||t==""){n=i;o=false}else{n=r}e.next().css("background",n);return o};return this.each(function(){var t=e(this);t.find(n.class_).each(function(){var r=e(this);r.after("<span class='status'></span>");r.keyup(function(){if(r.val().length>n.maxlength){r.val(t.val().substring(0,n.maxlength))}});r.blur(function(t){var n=e("#"+t.delegateTarget.id);var r=e.trim(n.val());var i=t.delegateTarget.nodeName.toLowerCase();if(i=="input"){u(n,r)}else{a(n,r)}})});t.submit(function(){var r=function(){o=true;t.find(n.class_).each(function(){var t=e(this);var n=e.trim(t.val());var r=t[0].tagName.toLowerCase();if(r=="input"){o=u(t,n)}else{o=a(t,n)}});return o};if(r()){s++}if(s===1){return true}else{return false}})})}})(jQuery)